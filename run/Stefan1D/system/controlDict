/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox           |
|  \\    /   O peration     | Version:  dev                                   |
|   \\  /    A nd           | Website:  www.openfoam.com                      |
|    \\/     M anipulation  |                                                 |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "system";
    object      controlDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

application     meltPoolFoam;

startFrom       latestTime;

startTime       100.0;

stopAt          endTime;

endTime         300.0;

deltaT          0.125e-2;

writeControl    adjustableRunTime;  // use timeStep for debug

writeInterval   2.0;               // use 1 for debug

purgeWrite      0;

writeFormat     binary;

writePrecision  6;

writeCompression off;

timeFormat      general;

timePrecision   6;

runTimeModifiable yes;

adjustTimeStep  no;

maxCo           0.25;
maxAlphaCo      0.2;
maxDeltaTemp    1500;

maxDeltaT       1;

writeAllFields yes;

DebugSwitches
{
    isoAdvection 0;
    reconstructionSchemes 0;
    incompressibleGasMetalThermalProperties 0;
    rayTracing 0;
    rayTracingParticle 0;
    Fresnel 0;
    laserProperties 0;
}

functions
{
pointSample
    {
        type            probes;
        libs  ("libsampling.so");
        setFormat csv;
        writeControl    adjustableRunTime;
        writeInterval   0.5;
        probeLocations
        (
            (-0.499 0.05 0.05)  // Replace with your point coordinates
        );
        fields
        (
            U
        );
    }
volIntegrate
    {
        type            volFieldValue;
        libs            (fieldFunctionObjects);
        setFormat csv;

        // Mandatory entries (runtime modifiable)
        fields          (liquidFraction);
        operation       volIntegrate;
        regionType      all;


        writeFields     false;
        writeToFile     true;
        writeControl    adjustableRunTime;
        writeInterval   0.5;
    }
writeTemperature
    {
    type sets;
    setFormat csv;
    libs            ("libsampling.so");
    interpolationScheme cell;
    writeControl    adjustableRunTime;
    writeInterval   0.5;

    fields
    (
        T
    );

    sets
    {
        s1
        {
        type cellCentre;
        axis x;
        }
    }

    }
}

// ************************************************************************* //
